import{_ as j,c as q,a as F}from"./Footer.2ffd1cec.js";import{_ as J}from"./HeroMeta.20e1fb6b.js";import{_ as H,o as a,c as l,b as i,F as T,i as r,a as b,n as z,k as I,l as w,g as v,p as Z,q as $,j as M,C as K,v as R,h as B,t as P,D as Q,u as n,E as A,f as N,T as V,G as X,H as Y,I as tt,e as et,w as nt,A as at,R as st,L as ot}from"./entry.155d5b82.js";import{o as lt,H as it,u as ct,b as rt,_ as dt,a as ut}from"./Blocks.1c0e6d88.js";/* empty css                     */import{_ as mt}from"./List.2241e031.js";import{_ as _t}from"./BlockMath.vue.e6067913.js";import{_ as pt,a as ht}from"./ResearchPublications.8976bcb8.js";import{d as ft,b as gt}from"./usePageTransition.21f5647f.js";import{s as U,u as yt,_ as kt}from"./useHeadSeo.ee7bdbb6.js";import{_ as vt,a as bt}from"./Landing.e3247118.js";import{u as O}from"./usePreviewToken.8fa72eba.js";import{u as Tt}from"./useErrorPage.ed375820.js";import"./Listing.695a92e0.js";import"./useResourceIndexData.406c7594.js";import"./usePageLoading.3b13e5a6.js";/* empty css                   */import"./lang.4a9029fb.js";const wt={name:"HeroSummary",props:{releaseSummary:{type:String,default:null},releaseWhyItMatters:{type:String,default:null},releaseSafety:{type:String,default:null}}},xt={key:0,class:"container"},St={class:"cols-container"},Lt={class:"mt-spacing-6 f-body-1 md:w-6-cols lg:ml-2-cols lg:w-6-cols"},Ct=i("h3",{class:"mt-spacing-4 f-meta-1 first:mt-0"},"Summary",-1),$t=["innerHTML"],Rt=i("h3",{class:"mt-spacing-4 f-meta-1 first:mt-0"},"Why it matters",-1),Pt=["innerHTML"],At=i("h3",{class:"mt-spacing-4 f-meta-1 first:mt-0"},"Safety",-1),Ht=["innerHTML"];function Mt(e,c,t,_,p,s){return t.releaseSummary||t.releaseWhyItMatters||t.releaseSafety?(a(),l("div",xt,[i("div",St,[i("div",Lt,[t.releaseSummary?(a(),l(T,{key:0},[Ct,i("div",{innerHTML:t.releaseSummary},null,8,$t)],64)):r("",!0),t.releaseWhyItMatters?(a(),l(T,{key:1},[Rt,i("div",{innerHTML:t.releaseWhyItMatters},null,8,Pt)],64)):r("",!0),t.releaseSafety?(a(),l(T,{key:2},[At,i("div",{innerHTML:t.releaseSafety},null,8,Ht)],64)):r("",!0)])])])):r("",!0)}const Bt=H(wt,[["render",Mt]]),Et={name:"HeroWrapper",props:{data:{type:Object,default:null},name:{type:String,default:"Generic"},pageTheme:{type:String,default:"light-gray"}},setup(e){return{options:lt}}},Dt={key:0,class:"container"},zt={class:"cols-container"},It=i("h2",{class:"f-heading-3"},"Abstract",-1),Ot={class:"ui-richtext mt-spacing-4"};function Wt(e,c,t,_,p,s){const u=j,o=J,f=Bt,d=q;return t.data?(a(),l("div",{key:0,class:w(t.pageTheme&&t.pageTheme!=="light-gray"?`theme-${t.pageTheme} pb-spacing-7`:null)},[b(u,{name:t.name,image:t.data.coverImage,intro:t.data.description,"intro-rich-text":t.data.descriptionRichText,template:t.data.template,title:t.data.title,theme:t.data.colorTheme,differenceMode:t.data.heroBlendMode&&t.data.heroBlendMode==="difference"},null,8,["name","image","intro","intro-rich-text","template","title","theme","differenceMode"]),b(o,z(I(t.data.meta)),null,16),b(f,z(I(t.data.summary)),null,16),t.data.publicationAbstractRichText?(a(),l("div",Dt,[i("div",zt,[i("div",{class:w(`f-body-2 md:w-6-cols lg:ml-2-cols lg:w-6-cols ${t.data.meta.authors||t.data.meta.links&&t.data.meta.links.find(h=>h.href!==null)||t.data.meta.tags.length>0?"mt-spacing-7":"mt-0"}`)},[It,i("div",Ot,[t.data.publicationAbstractRichText?(a(),v(d,{key:0,content:t.data.publicationAbstractRichText,options:_.options},null,8,["content","options"])):r("",!0)])],2)])])):r("",!0)],2)):r("",!0)}const Ft=H(Et,[["render",Wt]]),Nt={class:"absolute left-gutter top-auto -bottom-3 w-2-cols-vw hidden lg:block z-20 text-[color:var(--background-primary)]"},Vt={class:"relative"},Ut=i("h3",{id:"linkListHeading",class:"sr-only"},"Jump to chapters",-1),Gt={class:"mt-4 first:mt-0"},jt={class:"f-ui-1 relative"},qt={__name:"Chapters",props:{blocks:{type:Array,default:[]},sticky:{type:Boolean,default:!1}},emits:["setPadding"],setup(e,{emit:c}){const t=e,_=96,p=Z(()=>t.blocks.filter(m=>m.blockType===it&&m.content.level===1)),s=$([]),u=$(null),o=$(null),f=$(null);let d=null;M(()=>{d=new ResizeObserver(g),d.observe(u.value),g(),window.addEventListener("scroll",h)}),K(()=>{window.removeEventListener("scroll",h),d==null||d.disconnect()});function h(){p.value.forEach(m=>{const x=document.querySelector(`#${y(m.content.heading)}`);x&&(x.getBoundingClientRect().top<=100?s.value.includes(m.content.heading)||s.value.push(m.content.heading):s.value=s.value.filter(k=>k!==m.content.heading))})}function g(){u.value&&(o.value=u.value.offsetHeight,c("setPadding",u.value.offsetHeight),f.value=!0)}const y=m=>m.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase();function C(m,x=_){if(m){let S;try{S=document.querySelector(m)}catch{return}if(S){const k=document.documentElement.scrollTop+S.getBoundingClientRect().top;window.scrollTo({top:k-x,behavior:"smooth"})}}}return(m,x)=>{const S=F;return a(),l("div",{class:w([`z-20 mix-blend-difference sticky top-96 transition-opacity duration-300 ${n(f)?"opacity-100":"opacity-0"}`]),style:A(`top:${n(o)+96}px`)},[i("div",Nt,[i("div",Vt,[Ut,i("ul",{"aria-labelledby":"linkListHeading",ref_key:"chaptersList",ref:u},[(a(!0),l(T,null,R(n(p),(k,E)=>(a(),l("li",Gt,[b(S,{url:`#${y(k.content.heading)}`,inheritColor:!0,onClick:Q(D=>C(`#${y(k.content.heading)}`),["prevent"]),class:w(["underline-thickness-1 underline-offset-4",n(s)[n(s).length-1]===k.content.heading?"underline-inherit":"underline-transparent hover:underline hover:underline-inherit"]),tabindex:"-1",ref_for:!0,ref:"chapterLink"},{default:B(()=>[i("span",jt,P(k.content.heading),1)]),_:2},1032,["url","onClick","class"])]))),256))],512)])])],6)}}};let W=0;const Jt={name:"CitationLinks",props:{title:{type:String,default:null},columns:{type:Array,default(){return[]}}},data(){return W+=1,{}},computed:{listId(){return`citationList${W}`},randomizedColumns(){return this.columns.map(e=>e.map(c=>({...c,links:c.random?c.links.sort(()=>.5-Math.random()):c.links})))}}},Zt={class:"container"},Kt={class:"mt-spacing-7 border-t border-primary pt-8 lg:pt-12"},Qt={class:"cols-container"},Xt={class:"xs:w-6-cols md:w-2-cols lg:w-2-cols"},Yt={key:0,class:"f-subhead-2"},te={key:0,class:"mt-40 xs:w-6-cols md:w-6-cols md:mt-0 lg:w-10-cols"},ee={class:"cols-container"},ne={class:"cols-container"},ae={key:0,class:"f-subhead-2"},se={key:1},oe={key:2,class:"f-caption-1 mt-8"};function le(e,c,t,_,p,s){const u=F;return a(),l("div",Zt,[i("div",Kt,[i("div",Qt,[i("div",Xt,[t.title?(a(),l("h3",Yt,P(t.title),1)):r("",!0)]),s.randomizedColumns&&s.randomizedColumns.length?(a(),l("div",te,[i("div",ee,[(a(!0),l(T,null,R(s.randomizedColumns,(o,f)=>(a(),l("div",{key:f,class:w(["xs:w-6-cols md:w-6-cols lg:w-4-cols",{"xs:mt-40 md:mt-48 lg:ml-1-cols lg:mt-0":f===1}])},[i("div",ne,[(a(!0),l(T,null,R(o,(d,h)=>(a(),l("div",{key:h,class:w(["xs:w-3-cols md:w-2-cols lg:w-2-cols",{"md:ml-1-cols lg:ml-0 lg:pl-gutter":h===1}])},[d.title?(a(),l("h4",ae,P(d.title),1)):r("",!0),d.links?(a(),l("ul",se,[(a(!0),l(T,null,R(d.links,(g,y)=>(a(),l("li",{class:w([{"mt-4":y!==0},{"mt-4":y===0&&d.title}]),key:y},[b(u,{label:g.text,url:g.url,modifier:"underline"},null,8,["label","url"])],2))),128))])):r("",!0),d.random?(a(),l("p",oe," (Order randomized each pageload) ")):r("",!0)],2))),128))])],2))),128))])])):r("",!0)])])])}const ie=H(Jt,[["render",le]]);function ce(e){var _,p,s,u;const{$helpers:c}=N(),t=e.template===V?X:Y;return{type:e.type,id:e.id,acknowledgments:e.acknowledgments,authors:c.researchPublications.authors(e),blocks:(_=e.blocks)==null?void 0:_.default,chapters:e.chapters,contentTypes:e.contentTypes,coverImage:((s=(p=e.media)==null?void 0:p.cover)==null?void 0:s.length)&&e.media.cover[0][t],description:e.description,descriptionRichText:e.descriptionRichText,heroBlendMode:e.heroBlendMode,meta:{date:e.publicationDateFormatted,links:c.researchPublications.links(e),tags:c.researchPublications.tags(e)},models:e.models,publicationAbstract:e.publicationAbstract,publicationAbstractRichText:e.publicationAbstractRichText,publicationDate:e.publicationDate,publicationDateFormatted:e.publicationDateFormatted,recirculationBlocks:(u=e.blocks)==null?void 0:u.recirculation,summary:{releaseSummary:e.releaseSummary,releaseWhyItMatters:e.releaseWhyItMatters,releaseSafety:e.releaseSafety},template:e.template,title:e.title,colorTheme:e.colorTheme,seo:e.seo,slug:e.slug,topics:e.topics,citations:[...e.footnotes,...e.references]}}const re={key:2,class:"ui-recirc"},de={__name:"ResearchPublication",props:{data:Object},setup(e){var d;const c=e,{footnotes:t,references:_,setCitations:p}=ct(),s=ft(),u=$(null),o=ce(c.data);p(o.citations),M(()=>{U(c.data)}),s.value=[tt,V].includes((d=o.value)==null?void 0:d.template)?"feature":"simple";function f(h){u.value=h}return(h,g)=>{const y=Ft,C=qt,m=dt,x=mt,S=_t,k=ie,E=pt,D=ht,G=ut;return a(),l("div",null,[b(y,{data:n(o),pageTheme:n(o).colorTheme,name:"Article"},null,8,["data","pageTheme"]),i("div",{class:"relative bg-[color:white]",style:A(n(o).chapters?`padding-top: calc(${n(u)}px + var(--spacing-spacing-7))`:"")},[n(o).chapters?(a(),v(C,{key:0,blocks:n(o).blocks,sticky:!0,onSetPadding:f},null,8,["blocks"])):r("",!0),b(m,{blocks:n(o).blocks,class:w(n(o).citations.length||n(o).authors.length||n(o).acknowledgments?"ui-blocks--padded":""),style:A(n(o).chapters?`margin-top: calc(-1 * (${n(u)}px + var(--spacing-spacing-7)))`:"")},null,8,["blocks","class","style"])],4),b(S,null,{default:B(()=>[n(t)&&n(t).length?(a(),v(x,{key:0,title:"Footnotes",list:n(t),"counter-type":"alphabet","list-type":"footnotes"},null,8,["list"])):r("",!0),n(_)&&n(_).length?(a(),v(x,{key:1,title:"References",list:n(_),"list-type":"references"},null,8,["list"])):r("",!0)]),_:1}),n(o).authors.every(L=>L.length===0)?r("",!0):(a(),v(k,{key:0,title:"Authors",columns:n(o).authors},null,8,["columns"])),Object.values(n(o).acknowledgments).every(L=>L===null||L==="")?r("",!0):(a(),v(E,{key:1,title:"Acknowledgments",content:n(o).acknowledgments},null,8,["content"])),b(D,{topics:n(o).topics,exclude:[n(o).id]},null,8,["topics","exclude"]),n(o).recirculationBlocks?(a(),l("div",re,[(a(!0),l(T,null,R(n(o).recirculationBlocks,L=>(a(),l("div",{class:w(n(rt)(L,n(o).recirculationBlocks))},[L.blockType==="feature-1up"?(a(),v(G,{key:0,block:L},null,8,["block"])):r("",!0)],2))),256))])):r("",!0)])}}},Re={__name:"[slug]",async setup(e){var o,f;let c,t;const _=et(),{$api:p}=N(),{data:s,error:u}=([c,t]=nt(()=>gt(`research-publicaton-or-landing-${_.params.slug}`,()=>Promise.all([p.researchPublicationBySlug({slug:_.params.slug,preview:O().value}),p.landingBySlug({slug:_.params.slug,scope:"research",preview:O().value})]).then(([d,h])=>{const g=d||h;return g||at({statusCode:400,message:"Page not found"}),g}))),c=await c,t(),c);return Tt({data:s,error:u}),yt({title:(o=s==null?void 0:s.value)==null?void 0:o.title,seo:(f=s==null?void 0:s.value)==null?void 0:f.seo}),M(()=>{U(s==null?void 0:s.value)}),(d,h)=>{const g=de,y=vt,C=bt,m=kt;return n(u)?r("",!0):(a(),v(m,{key:0,id:`${n(s).type}-${n(s).slug}`},{default:B(()=>[n(s).type===st?(a(),v(g,{key:0,data:n(s)},null,8,["data"])):n(s).type===ot?(a(),l(T,{key:1},[n(s).template==="detail"?(a(),v(y,{key:0,data:n(s)},null,8,["data"])):(a(),v(C,{key:1,data:n(s),brand:!0},null,8,["data"]))],64)):r("",!0)]),_:1},8,["id"]))}}};export{Re as default};
