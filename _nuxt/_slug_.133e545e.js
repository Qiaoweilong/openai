import{_ as T}from"./Footer.2ffd1cec.js";import{_ as C}from"./Blocks.1c0e6d88.js";import{s as $,u as w,_ as x}from"./useHeadSeo.ee7bdbb6.js";import{d as A,b as B}from"./usePageTransition.21f5647f.js";import{j as D,o as l,c as y,a as h,u as o,e as E,f as L,w as N,g as p,h as S,i as f,A as V,P as I,L as j,F}from"./entry.155d5b82.js";import{_ as G,a as H}from"./Landing.e3247118.js";import{u as k}from"./usePreviewToken.8fa72eba.js";import{u as O}from"./useErrorPage.ed375820.js";import"./BlockMath.vue.e6067913.js";import"./Listing.695a92e0.js";import"./useResourceIndexData.406c7594.js";import"./usePageLoading.3b13e5a6.js";import"./List.2241e031.js";/* empty css                   */import"./lang.4a9029fb.js";function R(e){var s,a,n,r,t,i;return{type:e.type,id:e.id,blocks:(s=e.blocks)==null?void 0:s.default,colorTheme:e.colorTheme,description:e.description,heroAssetType:e.hero.assetType,heroEmbedCode:e.hero.videoEmbedCode,heroVideoPoster:((n=(a=e.media)==null?void 0:a.heroPoster)==null?void 0:n.length)&&e.media.heroPoster[0],heroImage:((t=(r=e.media)==null?void 0:r.cover)==null?void 0:t.length)&&((i=e.media.cover[0])==null?void 0:i.default),heroDescription:e.description,heroLinks:e.links,seo:e.seo,slug:e.slug,title:e.hero.title??e.title}}const M={__name:"Product",props:{data:Object},setup(e){const s=e;D(()=>{$(s.data)});const a=R(s.data),n=A();return n.value="feature",(r,t)=>{const i=T,c=C;return l(),y("div",null,[h(i,{name:"Product",image:o(a).heroImage,intro:o(a).description,links:o(a).heroLinks,template:o(a).heroAssetType,theme:o(a).colorTheme,title:o(a).title,poster:o(a).heroVideoPoster,video:o(a).heroEmbedCode},null,8,["image","intro","links","template","theme","title","poster","video"]),h(c,{blocks:o(a).blocks},null,8,["blocks"])])}}},ne={__name:"[slug]",async setup(e){var d,u;let s,a;const n=E(),{$api:r}=L(),{data:t,error:i,pending:c}=([s,a]=N(()=>B(`product-or-landing-${n.params.slug}`,async()=>Promise.all([r.productBySlug({slug:n.params.slug,preview:k().value}),r.landingBySlug({slug:n.params.slug,scope:"product",preview:k().value})]).then(([_,g])=>{const m=_||g;return m||V({statusCode:404,message:"Page not found"}),m}))),s=await s,a(),s);return O({data:t,error:i}),w({title:(d=t==null?void 0:t.value)==null?void 0:d.title,seo:(u=t==null?void 0:t.value)==null?void 0:u.seo}),(_,g)=>{const m=M,P=G,v=H,b=x;return!o(i)&&!o(c)?(l(),p(b,{key:0,id:`${o(t).type}-${o(t).slug}`},{default:S(()=>[o(t).type===I?(l(),p(m,{key:0,data:o(t)},null,8,["data"])):o(t).type===j?(l(),y(F,{key:1},[o(t).template==="detail"?(l(),p(P,{key:0,data:o(t)},null,8,["data"])):(l(),p(v,{key:1,data:o(t)},null,8,["data"]))],64)):f("",!0)]),_:1},8,["id"])):f("",!0)}}};export{ne as default};
