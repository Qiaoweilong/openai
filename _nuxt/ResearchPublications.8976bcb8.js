import{f as k,a as I}from"./Footer.2ffd1cec.js";import{_ as L,o as t,c as s,b as d,t as _,i as l,F as b,v as M,l as T,a as v,f as B,q as C,y as H,p as S,J as z,u as g,z as A}from"./entry.155d5b82.js";import{_ as N}from"./Listing.695a92e0.js";import{c as q}from"./usePageTransition.21f5647f.js";let w=0;const E={name:"CitationBody",props:{authors:{type:Array,default(){return[]}},content:{type:Object,default:null},title:{type:String,default:null}},data(){return w+=1,{}},computed:{componentId(){return`citationBody${w}`}},methods:{handleImageLeave(c,a){const n=this.$refs.author[a].querySelector(".author-image");n&&(n.style.left="",n.style.top=""),c.currentTarget.style.zIndex="unset"},handleImageMove(c,a){const n=this.$refs.author[a].querySelector(".author-image");n&&(window.innerWidth>=1280?(n.style.left=(window.innerWidth/2*3+c.clientX)/4+"px",n.style.top=(window.innerHeight/2*3+c.clientY)/4+"px"):(n.style.left="",n.style.top=""))},handleImageOver(c){c.currentTarget.style.zIndex=15}}},O={class:"container"},P={class:"mt-spacing-7 border-t border-primary pt-8 lg:pt-12"},R={class:"cols-container"},V={class:"xs:w-6-cols md:w-2-cols lg:w-2-cols"},D=["id"],j={class:"mt-40 xs:w-6-cols md:w-6-cols md:mt-0 lg:w-10-cols"},F={class:"cols-container"},W={key:0,class:"xs:w-6-cols md:w-6-cols lg:w-5-cols"},G=["aria-labelledby"],J=["id","onMousemove","onMouseleave"],U={key:0,"aria-hidden":"true",class:"author-image pointer-events-none absolute top-4 right-0 lg:top-auto lg:right-auto lg:fixed lg:hidden w-60 md:w-80 lg:w-[120px] lg:-translate-x-1/2 lg:-translate-y-1/2 lg:transform lg:hover-none:hidden lg:hover-hover:group-hover:block"},X={class:"relative"},Y={key:0,class:"f-subhead-2"},K={key:1,class:"f-body-1"},Q={key:0,class:"xs:w-6-cols md:w-6-cols lg:w-5-cols"},Z={key:0,class:"f-subhead-2 mb-8"},$=["innerHTML"],ee={key:1,class:"xs:w-6-cols xs:mt-40 md:w-6-cols md:mt-48 lg:w-5-cols lg:mt-0"},te={key:0,class:"f-subhead-2 mb-8"},se=["innerHTML"];function ne(c,a,e,n,y,r){const f=k,h=I;return t(),s("div",O,[d("div",P,[d("div",R,[d("div",V,[e.title?(t(),s("h3",{key:0,id:`${r.componentId}Title`,class:"f-subhead-2"},_(e.title),9,D)):l("",!0)]),d("div",j,[d("div",F,[e.authors.length?(t(),s("div",W,[d("ul",{"aria-labelledby":`${r.componentId}Title`,class:"theme-light-gray"},[(t(!0),s(b,null,M(e.authors,(o,u)=>(t(),s("li",{id:o.fullname.replace(" ",""),class:T(["first:mt-0 mt-spacing-4 relative group",{"min-h-[64px] md:min-h-[84px] lg:min-h-0 pr-84 md:pr-100 lg:pr-0":o.image}]),key:u,ref_for:!0,ref:"author",onMousemove:i=>r.handleImageMove(i,u),onMouseover:a[0]||(a[0]=i=>r.handleImageOver(i)),onMouseleave:i=>r.handleImageLeave(i,u)},[o.image?(t(),s("div",U,[v(f,{image:o.image,caption:null},null,8,["image"])])):l("",!0),d("div",X,[o.fullname?(t(),s("h4",Y,_(o.fullname),1)):l("",!0),o.description?(t(),s("p",K,_(o.description),1)):l("",!0),v(h,{class:"mt-8",label:o.link.text,modifier:"underline",url:o.link.url,"inherit-color":""},null,8,["label","url"])])],42,J))),128))],8,G)])):l("",!0),e.content?(t(),s(b,{key:1},[e.content.title1||e.content.text1?(t(),s("div",Q,[e.content.title1?(t(),s("h4",Z,_(e.content.title1),1)):l("",!0),e.content.text1?(t(),s("div",{key:1,class:"f-body-1 ui-richtext",innerHTML:e.content.text1},null,8,$)):l("",!0)])):l("",!0),e.content.title2||e.content.text2?(t(),s("div",ee,[e.content.title2?(t(),s("h4",te,_(e.content.title2),1)):l("",!0),e.content.text2?(t(),s("div",{key:1,class:"f-body-1 ui-richtext",innerHTML:e.content.text2},null,8,se)):l("",!0)])):l("",!0)],64)):l("",!0)])])])])])}const re=L(E,[["render",ne]]),le={key:0,class:"container"},de={__name:"ResearchPublications",props:{topics:{type:Object,required:!0},exclude:{type:Array,default:[]}},setup(c){const a=c,{$api:e,$helpers:n}=B(),y=C(!1),{data:r,error:f,pending:h,refresh:o}=q("research-publication-recirc",()=>{var m;const i=!y.value&&((m=a.topics)!=null&&m.length)?a.topics.map(p=>p.slug):[];return e.researchPublicationsByTopics({topics:i,options:{exclude:a.exclude??[]}})},{server:!1});H(()=>h.value,i=>{var m;!i&&!((m=r.value)!=null&&m.length)&&(y.value=!0,o())});const u=S(()=>({title:"Related research",link:{text:"View all research",url:n.route({type:z})},items:n.researchPublicationCardItems(r.value)}));return(i,m)=>{var x;const p=N;return!g(f)&&!g(h)&&((x=g(u).items)!=null&&x.length)?(t(),s("div",le,[v(p,A({blockLink:!0},g(u)),null,16)])):l("",!0)}}};export{re as _,de as a};
